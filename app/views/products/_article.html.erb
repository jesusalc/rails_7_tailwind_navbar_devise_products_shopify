<article id="<%= dom_id product %>" class="p-4 flex space-x-4 ">
  <% image_srcset = '' %>
  <% placeholder = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAC3CAMAAAAGjUrGAAAAMFBMVEXx8/XDzNPAydH09vfw8vTO1dvp7O/R2N3e4+fK0tji5urGztXr7vDa4OTX3eLn6u3eTM5cAAAFLklEQVR4nO2c2ZasIAxFNU5lqeX//+116Bo0OASC4F1nP3U/NFK7gYQIlaRgTRK6AxECJxw44cAJB044cMKBEw6ccOCEAyccOOHACQdOOHDCgRMOnHDghAMnHDjhwAkHTjhwwoETDpxw4IQDJxw44cAJB044cMKBEw6ccOCEAyccOOHACQdOOHDCgRMOnHDghAMnHDjhwAkHTjhwwrmdEyJq6qKqqqJuhp/JwyNu5YSofj3bJPvQ9l2Rqmu5jxOi4plnWbIiy8qu1h0ud3FCaZczHx8v+aNWtHIPJ9Q8N4X8aSkrtcFyByeUHhmZrCSd0tJyAyf0Ohbyp+XZaFiJ3gnV2+uIwcpDYaxE7+QhMDLROUuJ2wk1rVTJEIQqRytRO6FKKmS2UrotKzE7oU48SN5WXi5SInZCpa2SQUrrMFQidtJaG3EcKtE6aXInJYOU3vbRsTpxVjJaKeyGSqRONJSMGZyVlDid6CgZo7LN06N0oqVkxKKIEKUTRSVJJs9qI3RCbkGYSRFvgOJzQqWqkrGCIJSi64TIuZROZ+pHQimlrEuKTqju+jbL26dLbdR+j7NH20j6oOaE6v79aVx264UPJUmSS6RoOaHq98OIp/Cb2o+SQUp9vhNKTui1/DBZbydFMwqvOD+jlZywIW81UtRDzqJHp3c/Ok4aQxcqcSskrr36kaLihB6GLuTigeJpfRVL0XFi7oGwFcNgCyNFxUll/AcLN+rKKb2DFA0n1Bk7IMsePS8mbylnQrKKk6f5+SInvhcTgRQVJ727E82SyS4nMlqP4yQRONnQ6oVDKSpOTKF42Hidd7JOg72SH/VGJe6Y1wJB3GkuVHK8+HvMT87vuq4Iw78cjGClPNbwfz4/da4Jwz8cbMZ09jvEo4YgjfVWINiWsjuvve2Lz68mBqH+pexVvbTqJ6v0XlAq8FCAPSNlJ8vXq7Mtnih4f3BRAsvYDgGKNern+5BzVgqq1MaYdQXtZpc06/Zp1bd53neS4zBbOfAFbKYpHt7viP4i1MxJdta8wO8Bg82cScrGUaawTgLOnEmKOYcK6yTgzJmlGHsV1kmAbG2JsZAe0snl+xwDpnXW7GSOH+6HBPYJPXNGTOuswcmQZ3R92yZDj8vy8apTX2KCz5wRwzq7dkLpq11cuht+aR/KF+7mJ0UwcyYOnFDz4LcQE/ULdxMxzJwJVuhZONk7EJOVleqt1RAVAjOsrLFwsn9ZJsu1LtylwbO1Besl5euETpS7VK6WTUQzc0ZWqdvHydn7Q043Y75EM3Mmllvkt5N1oWwT96tlaUQx54/lkpIIlYwNtM4xKKqZM7JYUmYnJOvksKw4EbRCYOb35eDspBa2kOWWV2NmJRHFnA8/S8rsRN6E9WnPdOsIT2B+Nj6jE7v0KbddVfyf0bLi+y43sT/nIL/wMOH1wKcLn0J+4nKL1+YWlZ8D9Rp8AnLiNrvlS+31L4dP8z7Sm7jNbosLQzHz10XH2S2cP1ee0bJgviXg3o4kq413MZmZA7JGS+c3QNHl9GuyRsnJ6a8GuPbYmhVjOqvSUPY8pySuAoGRMWgotbR9cOFLtMnaklotNB4fT4485Hxo9XbtRzvlMEe0LMjMNyrs2toNP7FV1i5iL6e9zSjRZvv8p8tXI92czRu094g4njDdeaAidK9Cw8JP7HucK1gm+lRJvsLyf+Xn220pfcHITJb3r6ooqq5PYOTL9K3ioTsBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiPf6H0bZs4vG/nAAAAAElFTkSuQmCC'.html_safe %>
  <% broken = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATUAAACjCAMAAADciXncAAAAw1BMVEX////Pz8/x8fHU1NTt7e27u7sAAACampqxsbHg4OCLi4u2traQkJDd3d3GxsbCwrzJybxYWFioqKjBwMGvta5QiUqIpoWYmJhEqTQn1AAjYxuHhIh1dXVBQUEdHR3k5OSqtakAgQAinAAAVwBqZmpJSUmWnJVZXli9x8eKit0AAP8AAH/DrKr2LheFft0cr/8kpP/Cr8f+AO7xRTMAALXLy9v/AP/+AOPvTVOOkIkfHwDfAOToDcDsgXYtQyxPYU8sLCzA/HFrAAACPUlEQVR4nO3XWU/UYABG4S4zZcrQFiiuqMUFGMFdQRS3//+rqJW5MBknzQlJ++F5btrLNydfukSRJEmSJP2tSfUPa6rFzUSrJNN11ZKbPr23hdUIqxFWI6xGWI2wGmE1wmqE1QirEVYjrEZYjbAaYTXCaoTVCKsRViOsRliNsBphNcJqhNUIqxFWI6xGWI2wGmE1wmqE1QirEVYjrEZYjbAaYTXCaoTVCKsRViOsRliNsBphNcJqhNUIqxFWI6xGWI2wGmE1wmqE1QirEVYjrEYEUG1jaTYZespSANWy+eyPrY1xDAqjWlQURZ4X+e58Po5FYVSb1nt37pb1vTwZSbYwqu3df/Bwv3z0eOdJM/SaThjVDp4+e/6inO8Wh/nQazphVKuPsuNqe7uKDouh13TCqLaop9XLk5PTeOgt14Ko9ur1oq7evH13Wg295VoQ1d5/+Lhoz9qns6GnLIVR7fzzRf3la3vSfK711Va7vPz2vf2dSpMd36E9ZdHsx8+j9iaJrdZbFsXdt+0kTSOr9ZWV3aWZ1nX5y2o9bW51l3jzt3FMCqDaCFmNsBphNcJqhNUIqxFWI6xGWI2wGmE1wmqE1QirEVYjrEZYjbAaYTXCaoTVCKsRViOsRliNsBphNcJqhNUIqxFWI6xGWI2wGmE1wmqE1QirEVYjrEZYjbAaYTXCaoTVCKsRViOsRliNsBphNcJqhNUIqxFWI6xGWI2wGmE1wmrE2mpNopXWVctjrZbe9OGVJEmSpP/WFU/FHa6ht3PsAAAAAElFTkSuQmCC'.html_safe %>
  <% image_src = (product&.image ? product.image : placeholder) %>
  <% image_srcset = product.image if product&.image&.include?(',') %>
  <% image_src = product.image.split(',').last if product&.image&.include?(',') %>

  <img id="img_<%= dom_id product %>" src="<%= image_src %>" srcset="<%= image_srcset %>"
       alt="<%= product.title %>" class="absolute inset-0 w-6 h-6 h-full rounded-full mr-2 bg-gray-100" width="144" height="144" />
  <div style="display:none">
    <!--    "absolute inset-0 w-full h-full object-cover rounded-lg bg-gray-100"-->
    <!--    "w-6 h-6 rounded-full mr-2 bg-gray-100"-->
    <script>
        imgimg_<%= dom_id product %> = document.getElementById("img_<%= dom_id product %>");
        imgimg_<%= dom_id product %>.addEventListener('error', function handleError() {
            console.log("failed to load: <%= image_src %> for product <%=  product.title %> for product id <%=  product.id %>");
            imgimg_<%= dom_id product %>.src = '<%= broken %>';
            <%#=
             // imgimg_<%= dom_id product % >.style.display = 'none'; //which hides the image
            // imgimg_<%= dom_id product % >.style.visibility = 'hidden'; //Alternatively, you can set the image's visibility property to hidden, which would make the image invisible, but still take space on the page.
            // üëáÔ∏è if set to non-existent image, causes infinite loop
            // imgimg_<%= dom_id product % >.src = 'backup.webp'; // üëàÔ∏è must be a valid image
            %>
        });
    </script>
  </div>
  <div class="min-w-0 relative flex-auto sm:pr-20 lg:pr-0 xl:pr-20">
    <div class="flex flex-wrap items-baseline flex-auto">
      <h2 class="w-full flex-none mb-3 text-2xl leading-none text-gray-900">
        <%= product.title %>
      </h2>
      <div class="flex-auto text-lg font-medium text-gray-500">
        ‚Ç¨<%= product.price %>
      </div>
      <div class="text-xs leading-6 font-medium uppercase text-gray-500">
        Auf Lager
      </div>
    </div>

    <div class="space-x-2 flex text-sm">
      <% %w[XS S M L XL].each do |r| %>
        <label>
          <input class="sr-only peer" name="size" type="radio" value="<%= r.downcase %>" checked/>
          <button class="w-9 h-9 rounded-lg flex items-center justify-center text-gray-700 peer-checked:font-semibold peer-checked:bg-gray-900 peer-checked:text-white">
            <%= r %>
          </button>
        </label>
      <% end %>
    </div>
    <dl class="flex flex-wrap text-sm font-medium whitespace-pre">
      <div>
        <dt class="sr-only"><%= product.description ? product.description.html_safe : '' %></dt>
        <dd> ¬∑ <%= product.description ? product.description.html_safe : '' %></dd>
      </div>
    </dl>

      <%= link_to product, method: :delete, class: "rounded-lg py-3 ml-2 px-5 bg-gray-100 inline-block font-medium" do %>
        <svg width="2em" height="2em" fill="none" viewBox="0 0 24 24" stroke="currentColor" id="eye" class="w-8 h-8 text-cool-gray-800 dark:text-cool-gray-200 group-hover:text-purple-600 group-focus:text-purple-600 dark:group-hover:text-purple-50 dark:group-focus:text-purple-50">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
        </svg>
      <% end %>
      <%= link_to edit_product_path(product), class: "rounded-lg py-3 ml-2 px-5 bg-gray-100 inline-block font-medium" do %>
        <svg width="2em" height="2em" fill="none" viewBox="0 0 24 24" stroke="currentColor" id="cog" class="w-8 h-8 text-cool-gray-800 dark:text-cool-gray-200 group-hover:text-purple-600 group-focus:text-purple-600 dark:group-hover:text-purple-50 dark:group-focus:text-purple-50">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
        </svg>
      <% end %>
      <%= link_to product_path(product),
                  class: "rounded-lg py-3 ml-2 px-5 bg-gray-100 inline-block font-medium",
                  method: :delete,
                  data: {
                    "turbo-method": :delete,
                    controller: "confirmation",
                    confirm: "Sind Sie sicher, dass Sie diesen Produkt l√∂schen wollen?",
                    "confirmation-message-value": "Sind Sie sicher, dass Sie diesen Produkt l√∂schen wollen?",
                    action: "confirmation#confirm"
                  } do %>
        <svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-trash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
          <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
        </svg>
      <% end %>


  </div>
</article>